---
import TwentyFourSevenIcon from "@/assets/icons/24.svg";
import ease from "@/assets/icons/ease.svg"
import plan from "@/assets/icons/plan.svg";
import CopyIcon from "@/assets/icons/copy-lock.svg";
import AchievementIcon from "@/assets/icons/achievment.svg";
import ShieldIcon from "@/assets/icons/shield.svg";
import { Image } from "astro:assets";
import Callbtn from "./Callbtn.astro";
import around_clock from "@/assets/icons/around_clock.svg";
import rest from "@/assets/icons/rest.svg";
import smooth_transition from "@/assets/icons/smooth_transition.svg"
---

<div class="max-w-[1168px] mx-auto p-[12px] mt-10 md:mt-16">
  <h2
    class="max-w-[960px] mx-auto text-4xl md:text-5xl font-normal font-Frank text-transparent bg-text-gradient bg-clip-text leading-[42px] md:leading-[60px] text-center mb-3"
  >
    Three Steps to Change Your Life—Starting Today.
  </h2>
  <p class="text-center text-lg md:text-[22px] text-text">
    We know that taking the first step can feel overwhelming. That’s why we make it simple, clear, and 100% confidential.
  </p>

  <div class="relative mt-10 md:mt-[70px]">
    <div
      class="absolute block sm:hidden xl:block left-1/2 top-0 h-full border-l-[3px] border-[#F5F5F5] -z-10"
    >
    </div>

    <div
      class="flex flex-col-reverse md:flex-row items-center gap-4 md:gap-[28px] group z-[999]"
    >
      <div
        class="z-[999] bg-white p-6 border-r-4 border-primary rounded-lg shadow-[0px_3px_8px_0px_rgba(1,19,17,0.10)] max-w-[514px] transition-all duration-700 hover:translate-x-2 group-hover:shadow-lg group-hover:shadow-primary"
      >
        <h2
          class="text-[22px] font-medium text-[#1F1168] transition-all duration-500"
        >
         Call Us — No Judgment, Just Support
        </h2>
        <p class="mt-3 text-[#1F1168] transition-all duration-700 font-sans">
          When you’re ready, our compassionate professionals will answer your call, listen to your story, and guide you—without pressure or judgment.
        </p>
      </div>

      <div
        class="w-[50px] h-[50px]  md:ml-[6px]  flex items-center justify-center rounded-full border-4 border-primary bg-white transition-all duration-700 hover:rotate-12 hover:scale-110 group-hover:translate-y-2"
      >
        <span class="text-xl font-bold text-primary">1</span>
      </div>
    </div>

    <div
      class="flex flex-col md:flex-row items-center justify-end gap-[28px] mt-9 group z-[999]"
    >
      <div
        class="w-[50px] h-[50px]   md:mr-[6px] flex items-center justify-center rounded-full border-4 border-[#D98917] bg-white transition-all duration-700 hover:rotate-12 hover:scale-110 group-hover:translate-y-2"
      >
      <span class="text-xl font-bold text-primary">2</span>
      </div>
      <div
        class="z-[999] bg-white p-6 border-l-4 border-[#D98917] rounded-lg shadow-[0px_3px_8px_0px_rgba(1,19,17,0.10)] max-w-[514px] transition-all duration-700 group-hover:shadow-lg group-hover:shadow-primary"
      >
        <h2
          class="text-[22px] font-medium text-[#1F1168] transition-all duration-500"
        >
          We Verify Insurance & Handle the Paperwork
        </h2>
        <p class="mt-3 text-[#1F1168] transition-all duration-700 font-sans">
          Worried about costs? Let us take care of the logistics—verifying your coverage, explaining your benefits, and handling all the paperwork for free.        </p>
      </div>
    </div>

    <div
      class="flex flex-col-reverse md:flex-row items-center gap-[28px] mt-9 group z-[999]  md:ml-[6px]"
    >
      <div
        class="z-[999] bg-white p-6 border-r-4 border-primary rounded-lg shadow-[0px_3px_8px_0px_rgba(1,19,17,0.10)] max-w-[514px] transition-all duration-700 hover:translate-x-2 group-hover:shadow-lg group-hover:shadow-primary"
      >
        <h2
          class="text-[22px] font-medium text-[#1F1168] transition-all duration-500"
        >
         Get Admitted Today & Start Healing
        </h2>
        <p class="mt-3 text-[#1F1168] transition-all duration-700 font-sans">
         Once your plan is in place, we arrange a smooth transition into treatment—often on the same day—so you can begin your healing journey immediately.
        </p>
      </div>
      <div
        class="w-[50px] h-[50px] flex items-center justify-center rounded-full border-4 border-primary bg-white transition-all duration-700 hover:rotate-12 hover:scale-110 group-hover:translate-y-2"
      >
      <span class="text-xl font-bold text-primary">3</span>
      </div>
    </div>
</div>
<div class="text-center mt-8 md:mt-[68px]">
    <h6
      class="text-[22px] bg-text-gradient bg-clip-text text-transparent font-medium"
    >
      Your future is waiting. One call is all it takes.
    </h6>
    <div class="my-5">
      <Callbtn />
    </div>
    <p class="bg-text-gradient bg-clip-text text-transparent font-medium">
      Confidential | Free | Available 24/7
    </p>
  </div>
 

<script>
  // Optional: Add intersection observer for scroll-triggered animations
  document.addEventListener("DOMContentLoaded", () => {
    const cards = document.querySelectorAll(".border-r-4, .border-l-4");
    const icons = document.querySelectorAll(".rounded-full");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animate-in");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.2 }
    );

    cards.forEach((card) => observer.observe(card));
    icons.forEach((icon) => observer.observe(icon));
  });
</script>

<style>
  
  h2, p {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }


  .animate-in {
    animation: fadeIn 2s ease forwards;
    position: relative; /* Ensures z-index works */
    will-change: opacity, transform;
    backface-visibility: hidden;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

 
  .text-[22px] {
    font-size: 22px;
    font-weight: 500;
    color: #1F1168;
  }

  p {
    font-size: 16px;
    line-height: 1.6;
    color: #1F1168;
  }


  .bg-white {
    background-color: #ffffff;
  }


  @media (prefers-reduced-motion: no-preference) {
    div.max-w-\[1168px\] {
      transform-style: preserve-3d;
      perspective: 1000px;
      position: relative;
    }
  }
</style>

